"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.storeTransformStream = void 0;
const readable_stream_1 = require("readable-stream");
function storeTransformStream(syncTransformFn) {
    const t = new readable_stream_1.Transform({
        objectMode: true,
        transform: (state, _encoding, cb) => {
            try {
                const newState = syncTransformFn(state);
                cb(undefined, newState);
                return undefined;
            }
            catch (err) {
                cb(err);
                return undefined;
            }
        },
    });
    return t;
}
exports.storeTransformStream = storeTransformStream;
//# sourceMappingURL=transform.js.map