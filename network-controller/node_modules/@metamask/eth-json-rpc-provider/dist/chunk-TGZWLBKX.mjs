var __accessCheck = (obj, member, msg) => {
  if (!member.has(obj))
    throw TypeError("Cannot " + msg);
};
var __privateGet = (obj, member, getter) => {
  __accessCheck(obj, member, "read from private field");
  return getter ? getter.call(obj) : member.get(obj);
};
var __privateAdd = (obj, member, value) => {
  if (member.has(obj))
    throw TypeError("Cannot add the same private member more than once");
  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);
};
var __privateSet = (obj, member, value, setter) => {
  __accessCheck(obj, member, "write to private field");
  setter ? setter.call(obj, value) : member.set(obj, value);
  return value;
};

// src/safe-event-emitter-provider.ts
import SafeEventEmitter from "@metamask/safe-event-emitter";
var _engine;
var SafeEventEmitterProvider = class extends SafeEventEmitter {
  /**
   * Construct a SafeEventEmitterProvider from a JSON-RPC engine.
   *
   * @param options - Options.
   * @param options.engine - The JSON-RPC engine used to process requests.
   */
  constructor({ engine }) {
    super();
    __privateAdd(this, _engine, void 0);
    /**
     * Send a provider request asynchronously.
     *
     * @param req - The request to send.
     * @param callback - A function that is called upon the success or failure of the request.
     */
    this.sendAsync = (req, callback) => {
      __privateGet(this, _engine).handle(req, callback);
    };
    /**
     * Send a provider request asynchronously.
     *
     * This method serves the same purpose as `sendAsync`. It only exists for
     * legacy reasons.
     *
     * @deprecated Use `sendAsync` instead.
     * @param req - The request to send.
     * @param callback - A function that is called upon the success or failure of the request.
     */
    this.send = (req, callback) => {
      if (typeof callback !== "function") {
        throw new Error('Must provide callback to "send" method.');
      }
      __privateGet(this, _engine).handle(req, callback);
    };
    __privateSet(this, _engine, engine);
    if (engine.on) {
      engine.on("notification", (message) => {
        this.emit("data", null, message);
      });
    }
  }
};
_engine = new WeakMap();

export {
  SafeEventEmitterProvider
};
//# sourceMappingURL=chunk-TGZWLBKX.mjs.map