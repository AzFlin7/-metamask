{"version":3,"sources":["../../../../src/snaps/endowments/index.ts"],"sourcesContent":["import type { PermissionConstraint } from '@metamask/permission-controller';\nimport { HandlerType } from '@metamask/snaps-utils';\nimport type { Json } from '@metamask/utils';\n\nimport {\n  cronjobCaveatSpecifications,\n  cronjobEndowmentBuilder,\n  getCronjobCaveatMapper,\n} from './cronjob';\nimport { ethereumProviderEndowmentBuilder } from './ethereum-provider';\nimport { homePageEndowmentBuilder } from './home-page';\nimport {\n  getKeyringCaveatMapper,\n  keyringCaveatSpecifications,\n  keyringEndowmentBuilder,\n} from './keyring';\nimport { lifecycleHooksEndowmentBuilder } from './lifecycle-hooks';\nimport {\n  getNameLookupCaveatMapper,\n  nameLookupCaveatSpecifications,\n  nameLookupEndowmentBuilder,\n} from './name-lookup';\nimport { networkAccessEndowmentBuilder } from './network-access';\nimport {\n  getRpcCaveatMapper,\n  rpcCaveatSpecifications,\n  rpcEndowmentBuilder,\n} from './rpc';\nimport {\n  getSignatureInsightCaveatMapper,\n  signatureInsightCaveatSpecifications,\n  signatureInsightEndowmentBuilder,\n} from './signature-insight';\nimport {\n  getTransactionInsightCaveatMapper,\n  transactionInsightCaveatSpecifications,\n  transactionInsightEndowmentBuilder,\n} from './transaction-insight';\nimport { webAssemblyEndowmentBuilder } from './web-assembly';\n\nexport const endowmentPermissionBuilders = {\n  [networkAccessEndowmentBuilder.targetName]: networkAccessEndowmentBuilder,\n  [transactionInsightEndowmentBuilder.targetName]:\n    transactionInsightEndowmentBuilder,\n  [cronjobEndowmentBuilder.targetName]: cronjobEndowmentBuilder,\n  [ethereumProviderEndowmentBuilder.targetName]:\n    ethereumProviderEndowmentBuilder,\n  [rpcEndowmentBuilder.targetName]: rpcEndowmentBuilder,\n  [webAssemblyEndowmentBuilder.targetName]: webAssemblyEndowmentBuilder,\n  [nameLookupEndowmentBuilder.targetName]: nameLookupEndowmentBuilder,\n  [lifecycleHooksEndowmentBuilder.targetName]: lifecycleHooksEndowmentBuilder,\n  [keyringEndowmentBuilder.targetName]: keyringEndowmentBuilder,\n  [homePageEndowmentBuilder.targetName]: homePageEndowmentBuilder,\n  [signatureInsightEndowmentBuilder.targetName]:\n    signatureInsightEndowmentBuilder,\n} as const;\n\nexport const endowmentCaveatSpecifications = {\n  ...cronjobCaveatSpecifications,\n  ...transactionInsightCaveatSpecifications,\n  ...rpcCaveatSpecifications,\n  ...nameLookupCaveatSpecifications,\n  ...keyringCaveatSpecifications,\n  ...signatureInsightCaveatSpecifications,\n};\n\nexport const endowmentCaveatMappers: Record<\n  string,\n  (value: Json) => Pick<PermissionConstraint, 'caveats'>\n> = {\n  [cronjobEndowmentBuilder.targetName]: getCronjobCaveatMapper,\n  [transactionInsightEndowmentBuilder.targetName]:\n    getTransactionInsightCaveatMapper,\n  [rpcEndowmentBuilder.targetName]: getRpcCaveatMapper,\n  [nameLookupEndowmentBuilder.targetName]: getNameLookupCaveatMapper,\n  [keyringEndowmentBuilder.targetName]: getKeyringCaveatMapper,\n  [signatureInsightEndowmentBuilder.targetName]:\n    getSignatureInsightCaveatMapper,\n};\n\nexport const handlerEndowments: Record<HandlerType, string> = {\n  [HandlerType.OnRpcRequest]: rpcEndowmentBuilder.targetName,\n  [HandlerType.OnTransaction]: transactionInsightEndowmentBuilder.targetName,\n  [HandlerType.OnCronjob]: cronjobEndowmentBuilder.targetName,\n  [HandlerType.OnNameLookup]: nameLookupEndowmentBuilder.targetName,\n  [HandlerType.OnInstall]: lifecycleHooksEndowmentBuilder.targetName,\n  [HandlerType.OnUpdate]: lifecycleHooksEndowmentBuilder.targetName,\n  [HandlerType.OnKeyringRequest]: keyringEndowmentBuilder.targetName,\n  [HandlerType.OnHomePage]: homePageEndowmentBuilder.targetName,\n  [HandlerType.OnSignature]: signatureInsightEndowmentBuilder.targetName,\n};\n\nexport * from './enum';\nexport { getRpcCaveatOrigins } from './rpc';\nexport { getSignatureOriginCaveat } from './signature-insight';\nexport { getTransactionOriginCaveat } from './transaction-insight';\nexport { getChainIdsCaveat } from './name-lookup';\nexport { getKeyringCaveatOrigins } from './keyring';\n"],"names":["endowmentPermissionBuilders","endowmentCaveatSpecifications","endowmentCaveatMappers","handlerEndowments","getRpcCaveatOrigins","getSignatureOriginCaveat","getTransactionOriginCaveat","getChainIdsCaveat","getKeyringCaveatOrigins","networkAccessEndowmentBuilder","targetName","transactionInsightEndowmentBuilder","cronjobEndowmentBuilder","ethereumProviderEndowmentBuilder","rpcEndowmentBuilder","webAssemblyEndowmentBuilder","nameLookupEndowmentBuilder","lifecycleHooksEndowmentBuilder","keyringEndowmentBuilder","homePageEndowmentBuilder","signatureInsightEndowmentBuilder","cronjobCaveatSpecifications","transactionInsightCaveatSpecifications","rpcCaveatSpecifications","nameLookupCaveatSpecifications","keyringCaveatSpecifications","signatureInsightCaveatSpecifications","getCronjobCaveatMapper","getTransactionInsightCaveatMapper","getRpcCaveatMapper","getNameLookupCaveatMapper","getKeyringCaveatMapper","getSignatureInsightCaveatMapper","HandlerType","OnRpcRequest","OnTransaction","OnCronjob","OnNameLookup","OnInstall","OnUpdate","OnKeyringRequest","OnHomePage","OnSignature"],"mappings":";;;;;;;;;;;IAwCaA,2BAA2B;eAA3BA;;IAiBAC,6BAA6B;eAA7BA;;IASAC,sBAAsB;eAAtBA;;IAcAC,iBAAiB;eAAjBA;;IAaJC,mBAAmB;eAAnBA,wBAAmB;;IACnBC,wBAAwB;eAAxBA,0CAAwB;;IACxBC,0BAA0B;eAA1BA,8CAA0B;;IAC1BC,iBAAiB;eAAjBA,6BAAiB;;IACjBC,uBAAuB;eAAvBA,gCAAuB;;;4BAhGJ;yBAOrB;kCAC0C;0BACR;yBAKlC;gCACwC;4BAKxC;+BACuC;qBAKvC;kCAKA;oCAKA;6BACqC;qBAsD9B;;;;;;;;;;;;;;AApDP,MAAMR,8BAA8B;IACzC,CAACS,4CAA6B,CAACC,UAAU,CAAC,EAAED,4CAA6B;IACzE,CAACE,sDAAkC,CAACD,UAAU,CAAC,EAC7CC,sDAAkC;IACpC,CAACC,gCAAuB,CAACF,UAAU,CAAC,EAAEE,gCAAuB;IAC7D,CAACC,kDAAgC,CAACH,UAAU,CAAC,EAC3CG,kDAAgC;IAClC,CAACC,wBAAmB,CAACJ,UAAU,CAAC,EAAEI,wBAAmB;IACrD,CAACC,wCAA2B,CAACL,UAAU,CAAC,EAAEK,wCAA2B;IACrE,CAACC,sCAA0B,CAACN,UAAU,CAAC,EAAEM,sCAA0B;IACnE,CAACC,8CAA8B,CAACP,UAAU,CAAC,EAAEO,8CAA8B;IAC3E,CAACC,gCAAuB,CAACR,UAAU,CAAC,EAAEQ,gCAAuB;IAC7D,CAACC,kCAAwB,CAACT,UAAU,CAAC,EAAES,kCAAwB;IAC/D,CAACC,kDAAgC,CAACV,UAAU,CAAC,EAC3CU,kDAAgC;AACpC;AAEO,MAAMnB,gCAAgC;IAC3C,GAAGoB,oCAA2B;IAC9B,GAAGC,0DAAsC;IACzC,GAAGC,4BAAuB;IAC1B,GAAGC,0CAA8B;IACjC,GAAGC,oCAA2B;IAC9B,GAAGC,sDAAoC;AACzC;AAEO,MAAMxB,yBAGT;IACF,CAACU,gCAAuB,CAACF,UAAU,CAAC,EAAEiB,+BAAsB;IAC5D,CAAChB,sDAAkC,CAACD,UAAU,CAAC,EAC7CkB,qDAAiC;IACnC,CAACd,wBAAmB,CAACJ,UAAU,CAAC,EAAEmB,uBAAkB;IACpD,CAACb,sCAA0B,CAACN,UAAU,CAAC,EAAEoB,qCAAyB;IAClE,CAACZ,gCAAuB,CAACR,UAAU,CAAC,EAAEqB,+BAAsB;IAC5D,CAACX,kDAAgC,CAACV,UAAU,CAAC,EAC3CsB,iDAA+B;AACnC;AAEO,MAAM7B,oBAAiD;IAC5D,CAAC8B,uBAAW,CAACC,YAAY,CAAC,EAAEpB,wBAAmB,CAACJ,UAAU;IAC1D,CAACuB,uBAAW,CAACE,aAAa,CAAC,EAAExB,sDAAkC,CAACD,UAAU;IAC1E,CAACuB,uBAAW,CAACG,SAAS,CAAC,EAAExB,gCAAuB,CAACF,UAAU;IAC3D,CAACuB,uBAAW,CAACI,YAAY,CAAC,EAAErB,sCAA0B,CAACN,UAAU;IACjE,CAACuB,uBAAW,CAACK,SAAS,CAAC,EAAErB,8CAA8B,CAACP,UAAU;IAClE,CAACuB,uBAAW,CAACM,QAAQ,CAAC,EAAEtB,8CAA8B,CAACP,UAAU;IACjE,CAACuB,uBAAW,CAACO,gBAAgB,CAAC,EAAEtB,gCAAuB,CAACR,UAAU;IAClE,CAACuB,uBAAW,CAACQ,UAAU,CAAC,EAAEtB,kCAAwB,CAACT,UAAU;IAC7D,CAACuB,uBAAW,CAACS,WAAW,CAAC,EAAEtB,kDAAgC,CAACV,UAAU;AACxE"}