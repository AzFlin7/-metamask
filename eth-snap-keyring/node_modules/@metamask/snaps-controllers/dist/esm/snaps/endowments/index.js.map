{"version":3,"sources":["../../../../src/snaps/endowments/index.ts"],"sourcesContent":["import type { PermissionConstraint } from '@metamask/permission-controller';\nimport { HandlerType } from '@metamask/snaps-utils';\nimport type { Json } from '@metamask/utils';\n\nimport {\n  cronjobCaveatSpecifications,\n  cronjobEndowmentBuilder,\n  getCronjobCaveatMapper,\n} from './cronjob';\nimport { ethereumProviderEndowmentBuilder } from './ethereum-provider';\nimport { homePageEndowmentBuilder } from './home-page';\nimport {\n  getKeyringCaveatMapper,\n  keyringCaveatSpecifications,\n  keyringEndowmentBuilder,\n} from './keyring';\nimport { lifecycleHooksEndowmentBuilder } from './lifecycle-hooks';\nimport {\n  getNameLookupCaveatMapper,\n  nameLookupCaveatSpecifications,\n  nameLookupEndowmentBuilder,\n} from './name-lookup';\nimport { networkAccessEndowmentBuilder } from './network-access';\nimport {\n  getRpcCaveatMapper,\n  rpcCaveatSpecifications,\n  rpcEndowmentBuilder,\n} from './rpc';\nimport {\n  getSignatureInsightCaveatMapper,\n  signatureInsightCaveatSpecifications,\n  signatureInsightEndowmentBuilder,\n} from './signature-insight';\nimport {\n  getTransactionInsightCaveatMapper,\n  transactionInsightCaveatSpecifications,\n  transactionInsightEndowmentBuilder,\n} from './transaction-insight';\nimport { webAssemblyEndowmentBuilder } from './web-assembly';\n\nexport const endowmentPermissionBuilders = {\n  [networkAccessEndowmentBuilder.targetName]: networkAccessEndowmentBuilder,\n  [transactionInsightEndowmentBuilder.targetName]:\n    transactionInsightEndowmentBuilder,\n  [cronjobEndowmentBuilder.targetName]: cronjobEndowmentBuilder,\n  [ethereumProviderEndowmentBuilder.targetName]:\n    ethereumProviderEndowmentBuilder,\n  [rpcEndowmentBuilder.targetName]: rpcEndowmentBuilder,\n  [webAssemblyEndowmentBuilder.targetName]: webAssemblyEndowmentBuilder,\n  [nameLookupEndowmentBuilder.targetName]: nameLookupEndowmentBuilder,\n  [lifecycleHooksEndowmentBuilder.targetName]: lifecycleHooksEndowmentBuilder,\n  [keyringEndowmentBuilder.targetName]: keyringEndowmentBuilder,\n  [homePageEndowmentBuilder.targetName]: homePageEndowmentBuilder,\n  [signatureInsightEndowmentBuilder.targetName]:\n    signatureInsightEndowmentBuilder,\n} as const;\n\nexport const endowmentCaveatSpecifications = {\n  ...cronjobCaveatSpecifications,\n  ...transactionInsightCaveatSpecifications,\n  ...rpcCaveatSpecifications,\n  ...nameLookupCaveatSpecifications,\n  ...keyringCaveatSpecifications,\n  ...signatureInsightCaveatSpecifications,\n};\n\nexport const endowmentCaveatMappers: Record<\n  string,\n  (value: Json) => Pick<PermissionConstraint, 'caveats'>\n> = {\n  [cronjobEndowmentBuilder.targetName]: getCronjobCaveatMapper,\n  [transactionInsightEndowmentBuilder.targetName]:\n    getTransactionInsightCaveatMapper,\n  [rpcEndowmentBuilder.targetName]: getRpcCaveatMapper,\n  [nameLookupEndowmentBuilder.targetName]: getNameLookupCaveatMapper,\n  [keyringEndowmentBuilder.targetName]: getKeyringCaveatMapper,\n  [signatureInsightEndowmentBuilder.targetName]:\n    getSignatureInsightCaveatMapper,\n};\n\nexport const handlerEndowments: Record<HandlerType, string> = {\n  [HandlerType.OnRpcRequest]: rpcEndowmentBuilder.targetName,\n  [HandlerType.OnTransaction]: transactionInsightEndowmentBuilder.targetName,\n  [HandlerType.OnCronjob]: cronjobEndowmentBuilder.targetName,\n  [HandlerType.OnNameLookup]: nameLookupEndowmentBuilder.targetName,\n  [HandlerType.OnInstall]: lifecycleHooksEndowmentBuilder.targetName,\n  [HandlerType.OnUpdate]: lifecycleHooksEndowmentBuilder.targetName,\n  [HandlerType.OnKeyringRequest]: keyringEndowmentBuilder.targetName,\n  [HandlerType.OnHomePage]: homePageEndowmentBuilder.targetName,\n  [HandlerType.OnSignature]: signatureInsightEndowmentBuilder.targetName,\n};\n\nexport * from './enum';\nexport { getRpcCaveatOrigins } from './rpc';\nexport { getSignatureOriginCaveat } from './signature-insight';\nexport { getTransactionOriginCaveat } from './transaction-insight';\nexport { getChainIdsCaveat } from './name-lookup';\nexport { getKeyringCaveatOrigins } from './keyring';\n"],"names":["HandlerType","cronjobCaveatSpecifications","cronjobEndowmentBuilder","getCronjobCaveatMapper","ethereumProviderEndowmentBuilder","homePageEndowmentBuilder","getKeyringCaveatMapper","keyringCaveatSpecifications","keyringEndowmentBuilder","lifecycleHooksEndowmentBuilder","getNameLookupCaveatMapper","nameLookupCaveatSpecifications","nameLookupEndowmentBuilder","networkAccessEndowmentBuilder","getRpcCaveatMapper","rpcCaveatSpecifications","rpcEndowmentBuilder","getSignatureInsightCaveatMapper","signatureInsightCaveatSpecifications","signatureInsightEndowmentBuilder","getTransactionInsightCaveatMapper","transactionInsightCaveatSpecifications","transactionInsightEndowmentBuilder","webAssemblyEndowmentBuilder","endowmentPermissionBuilders","targetName","endowmentCaveatSpecifications","endowmentCaveatMappers","handlerEndowments","OnRpcRequest","OnTransaction","OnCronjob","OnNameLookup","OnInstall","OnUpdate","OnKeyringRequest","OnHomePage","OnSignature","getRpcCaveatOrigins","getSignatureOriginCaveat","getTransactionOriginCaveat","getChainIdsCaveat","getKeyringCaveatOrigins"],"mappings":"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"}